# Домашнее задание к занятию «2.9. Realtime-взаимодействие с сервером, протокол websocket»

## Задание
 
Добавлены коментарии на страницах книг  
Добавлены API методы:  
```
`GET /api/message/:id`  получаем отзывы по **id** книги
`POST /api/message`  добавляем комментарий по  по **id** книги

```


#### Приложение «Библиотека».

Запускает «Библиотека», «Счетчик», базу Mongo `docker compose up`

Открывается сайт `http://localhost:3000/books/`  
Работает API `http://localhost:3000/api/`  


 ### Методы API
Метод | URL | Действие | Комментарий
--- | --- | ---  | ---
`POST` | `/api/user/login` | авторизация пользователя | метод возвращает **Code: 200** и объект пользователя 
`POST` | `/api/user/signup` | создание пользователя | метод возвращает **Code: 201** и объект пользователя 
`GET` | `/api/user/me` | профиль пользователя | метод объект пользователя, если пользователь авторизовался
`GET` | `/api/books` | получить все книги | получаем массив всех книг
`GET` | `/api/books/:id` | получить книгу по **ID** | получаем объект книги, если запись не найдена, вернём **Code: 404** 
`GET` | `/api/books/:id/download` | скачать книгу по **ID** | отдаем на скачиваение файл книги по её **:ID** 
`POST` | `/api/books` | создать книгу | создаём книгу и возвращаем её же вместе с присвоенным **ID**
`PUT` | `/api/books/:id` | редактировать книгу по **ID** | редактируем объект книги, если запись не найдена, вернём **Code: 404**
`DELETE` | `/api/books/:id` | удалить книгу по **ID** | удаляем книгу и возвращаем ответ: **'ok'**
`GET` | `/api/message/:id` | получаем отзывы по **id** книги | не требуется авторизация
`POST` | `/api/message/:id` | добавляем комментарий по  по **id** книги | требуется авторизация


 ### Страницы:
 - `/` — Главная;
 - `/books` — просмотр списка всех книг (вывод заголовков);
 - `/books/{id}` — информация по конкретной книге;
 - `/books/create` — создание книги;
 - `/books/update/{id}` — редактирование книги; 
 - `/user/login` — страница входа; 
 - `/user/register` — страница регистрации; 
 - `/user/me` — страница профиля; 
 
 ### Шаблоны:
 - **index** — просмотр списка всех книг (вывод заголовков);
 - **view** — информация по конкретной книге;
 - **create** — создание книги;
 - **update** — редактирование книги. 
 - **login** — вход. 
 - **register** — регистрация. 
 - **profile** — профиль. 

#### Сущность книга 
```javascript
{
  id: "string",
  title: "string",
  description: "string",
  authors: "string",
  favorite: bool,
  fileCover: "string",
  fileName: "string",
  fileBook: "string"  
}
``` 

#### Сущность Пользователь 
```javascript
{
  id: "string",
  username: "string",
  password: "string",
  displayName: "string"
}
``` 

